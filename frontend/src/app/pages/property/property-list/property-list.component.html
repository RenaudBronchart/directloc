<section class="container prop-list">
  <h2 class="heading">Explore stays</h2>

  <!-- Grid -->
  <ng-container *ngIf="!loading; else skeletons">
    <ng-container *ngIf="items?.length; else empty">
      <div class="grid">
        <app-property-card
          *ngFor="let p of items; trackBy: trackById"
          [data]="p"
          (open)="openDetail($event)">
        </app-property-card>
      </div>
    </ng-container>
  </ng-container>

  <!-- Skeletons -->
  <ng-template #skeletons>
    <div class="grid">
      <app-property-card *ngFor="let s of [1,2,3,4,5,6,7,8,9,10,11,12]" [loading]="true"></app-property-card>
    </div>
  </ng-template>

  <!-- Empty state -->
  <ng-template #empty>
    <div class="empty">
      <mat-icon>search_off</mat-icon>
      <p>No properties match your filters (yet).</p>
    </div>
  </ng-template>

  <!-- Paginator -->
  <mat-paginator
    [length]="total"
    [pageIndex]="pageIndex"
    [pageSize]="pageSize"
    [pageSizeOptions]="[12,24,48]"
    aria-label="Select page"
    (page)="onPage($event)">
  </mat-paginator>
</section>
